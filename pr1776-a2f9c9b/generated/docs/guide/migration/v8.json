{
  "id": "guide/migration/v8",
  "title": "V8 Update Guide",
  "contents": "\n\n\n  <div class=\"github-links\">\n    <a href=\"https://github.com/ngrx/platform/edit/master/projects/ngrx.io/content/guide/migration/v8.md?message=docs%3A%20describe%20your%20change...\" aria-label=\"Suggest Edits\" title=\"Suggest Edits\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  </div>\n\n\n<div class=\"content\">\n<h1 id=\"v8-update-guide\">V8 Update Guide<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#v8-update-guide\"><i class=\"material-icons\">link</i></a></h1>\n<h2 id=\"angular-cli-update\">Angular CLI update<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#angular-cli-update\"><i class=\"material-icons\">link</i></a></h2>\n<p>NgRx supports using the Angular CLI <code>ng update</code> command to update your dependencies. Migration schematics are run to make the upgrade smoother. These schematics will fix breaking changes.</p>\n<p>To update your packages to the latest released version, run the command below.</p>\n<code-example language=\"sh\">\nng update @ngrx/store\n</code-example>\n<h2 id=\"dependencies\">Dependencies<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#dependencies\"><i class=\"material-icons\">link</i></a></h2>\n<p>V8 has the minimum version requirements:</p>\n<ul>\n<li>Angular version 8</li>\n<li>TypeScript version 3.3.x</li>\n<li>RxJS version 6.x</li>\n</ul>\n<h2 id=\"highlighted-new-features\">Highlighted new features<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#highlighted-new-features\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li><a href=\"\">@ngrx/data</a>: the <a href=\"https://github.com/johnpapa/angular-ngrx-data\">angular-ngrx-data</a> library by John Papa and Ward Bell is now an official part of NgRx and can be installed with <code>npm install @ngrx/data</code></li>\n<li><a href=\"/guide/store/actions#writing-actions\">createAction</a>: create type safe actions easier without abstractions via the <code><a href=\"api/store/createAction\" class=\"code-anchor\">createAction</a></code> function</li>\n<li><a href=\"/guide/store/reducers#creating-the-reducer-function\">createReducer</a>: create reducers in a less verbose but still type safe way with the <code><a href=\"api/store/createReducer\" class=\"code-anchor\">createReducer</a></code> function</li>\n<li><a href=\"/guide/effects#writing-effects\">createEffect</a>: create closure friendly effects with type checking by using the <code><a href=\"api/effects/createEffect\" class=\"code-anchor\">createEffect</a></code> function</li>\n<li>\n<p><a href=\"/guide/store/configuration/runtime-checks\">runtime checks</a>: opt-in checks during development</p>\n<ul>\n<li><a href=\"/guide/store/configuration/runtime-checks#strictimmutability\"><code>strictImmutability</code></a>: verifies that the state and actions aren't being mutated</li>\n<li><a href=\"/guide/store/configuration/runtime-checks#strictstateserializability\"><code>strictStateSerializability</code></a>: verifies if the state is serializable</li>\n<li><a href=\"/guide/store/configuration/runtime-checks#strictactionserializability\"><code>strictActionSerializability</code></a>: verifies if the actions are serializable</li>\n</ul>\n</li>\n<li><a href=\"\">mock selectors</a>: mock selectors for a fully isolated unit test</li>\n</ul>\n<h2 id=\"breaking-changes\">Breaking changes<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#breaking-changes\"><i class=\"material-icons\">link</i></a></h2>\n<h3 id=\"ngrxstore\">@ngrx/store<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#ngrxstore\"><i class=\"material-icons\">link</i></a></h3>\n<h4 id=\"meta_reducers-token\"><code><a href=\"api/store/META_REDUCERS\" class=\"code-anchor\">META_REDUCERS</a></code> token<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#meta_reducers-token\"><i class=\"material-icons\">link</i></a></h4>\n<div class=\"alert is-helpful\">\n<p>A migration is provided to rename the <code><a href=\"api/store/META_REDUCERS\" class=\"code-anchor\">META_REDUCERS</a></code> token to <code><a href=\"api/store/USER_PROVIDED_META_REDUCERS\" class=\"code-anchor\">USER_PROVIDED_META_REDUCERS</a></code></p>\n</div>\n<p>The <code><a href=\"api/store/META_REDUCERS\" class=\"code-anchor\">META_REDUCERS</a></code> token has been renamed to <code><a href=\"api/store/USER_PROVIDED_META_REDUCERS\" class=\"code-anchor\">USER_PROVIDED_META_REDUCERS</a></code>.</p>\n<p>The <code><a href=\"api/store/META_REDUCERS\" class=\"code-anchor\">META_REDUCERS</a></code> token has become a multi token and can be used by\nlibrary authors.</p>\n<h4 id=\"selectors-with-only-a-projector-function-arent-valid-anymore\">Selectors with only a projector function aren't valid anymore<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#selectors-with-only-a-projector-function-arent-valid-anymore\"><i class=\"material-icons\">link</i></a></h4>\n<p>This change will make the usage of selectors more consistent.</p>\n<p>BEFORE:</p>\n<code-example language=\"ts\">\nconst getTodosById = <a href=\"api/store/createSelector\" class=\"code-anchor\">createSelector</a>(\n  (<a href=\"api/store-devtools/StoreDevtools#state\" class=\"code-anchor\">state</a>: TodoAppSchema, <a href=\"api/data/UpdateResponseData#id\" class=\"code-anchor\">id</a>: number) => state.todos.find(p => p.id === <a href=\"api/data/UpdateResponseData#id\" class=\"code-anchor\">id</a>)\n);\n</code-example>\n<p>AFTER:</p>\n<code-example language=\"ts\">\nconst getTodosById = <a href=\"api/store/createSelector\" class=\"code-anchor\">createSelector</a>(\n  (<a href=\"api/store-devtools/StoreDevtools#state\" class=\"code-anchor\">state</a>: TodoAppSchema) => state.todos,\n  (todos: Todo[], <a href=\"api/data/UpdateResponseData#id\" class=\"code-anchor\">id</a>: number) => todos.find(p => p.id === <a href=\"api/data/UpdateResponseData#id\" class=\"code-anchor\">id</a>)\n);\n</code-example>\n<h3 id=\"ngrxrouter-store\">@ngrx/router-store<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#ngrxrouter-store\"><i class=\"material-icons\">link</i></a></h3>\n<h4 id=\"required-usage-of-forroot\">Required usage of <code>forRoot</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#required-usage-of-forroot\"><i class=\"material-icons\">link</i></a></h4>\n<div class=\"alert is-helpful\">\n<p>A migration is provided and will append <code>forRoot</code> to <code><a href=\"api/router-store/StoreRouterConnectingModule\" class=\"code-anchor\">StoreRouterConnectingModule</a></code></p>\n</div>\n<p>Usage of <code>forRoot</code> is now required for <code><a href=\"api/router-store/StoreRouterConnectingModule\" class=\"code-anchor\">StoreRouterConnectingModule</a></code></p>\n<p>BEFORE:</p>\n<code-example language=\"ts\">\n@NgModule({\n  imports: [\n    <a href=\"api/router-store/StoreRouterConnectingModule\" class=\"code-anchor\">StoreRouterConnectingModule</a>\n  ]\n})\nexport class AppModule {}\n</code-example>\n<p>AFTER:</p>\n<code-example language=\"ts\">\n@NgModule({\n  imports: [\n    StoreRouterConnectingModule.forRoot()\n  ]\n})\nexport class AppModule {}\n</code-example>\n<h3 id=\"ngrxentity\">@ngrx/entity<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#ngrxentity\"><i class=\"material-icons\">link</i></a></h3>\n<h4 id=\"add-undefined-to-dictionarys-index-signature\">add undefined to Dictionary's index signature<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#add-undefined-to-dictionarys-index-signature\"><i class=\"material-icons\">link</i></a></h4>\n<p><code><a href=\"api/entity/Dictionary\" class=\"code-anchor\">Dictionary</a></code> and <code>DictionaryNum</code> could be producing <code>undefined</code> but previous typings were not explicit about it.</p>\n<h3 id=\"ngrxstore-devtools\">@ngrx/store-devtools<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#ngrxstore-devtools\"><i class=\"material-icons\">link</i></a></h3>\n<h4 id=\"actionswhitelist-is-renamed-to-actionssafelist\"><code>actionsWhitelist</code> is renamed to <code><a href=\"api/store-devtools/StoreDevtoolsConfig#actionsSafelist\" class=\"code-anchor\">actionsSafelist</a></code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#actionswhitelist-is-renamed-to-actionssafelist\"><i class=\"material-icons\">link</i></a></h4>\n<p>BEFORE:</p>\n<code-example language=\"ts\">\nStoreDevtoolsModule.instrument({\n  actionsWhitelist: ['...'],\n})\n</code-example>\n<p>AFTER:</p>\n<code-example language=\"ts\">\nStoreDevtoolsModule.instrument({\n  <a href=\"api/store-devtools/StoreDevtoolsConfig#actionsSafelist\" class=\"code-anchor\">actionsSafelist</a>: ['...'],\n})\n</code-example>\n<h4 id=\"actionsblacklist-is-renamed-to-actionsblocklist\"><code>actionsBlacklist</code> is renamed to <code><a href=\"api/store-devtools/StoreDevtoolsConfig#actionsBlocklist\" class=\"code-anchor\">actionsBlocklist</a></code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/migration/v8#actionsblacklist-is-renamed-to-actionsblocklist\"><i class=\"material-icons\">link</i></a></h4>\n<p>BEFORE:</p>\n<code-example language=\"ts\">\nStoreDevtoolsModule.instrument({\n  actionsBlacklist: ['...']\n})\n</code-example>\n<p>AFTER:</p>\n<code-example language=\"ts\">\nStoreDevtoolsModule.instrument({\n  <a href=\"api/store-devtools/StoreDevtoolsConfig#actionsBlocklist\" class=\"code-anchor\">actionsBlocklist</a>: ['...']\n})\n</code-example>\n\n</div>\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - /guide/effects#writing-effects\n - /guide/store/actions#writing-actions\n - /guide/store/configuration/runtime-checks\n - /guide/store/configuration/runtime-checks#strictactionserializability\n - /guide/store/configuration/runtime-checks#strictimmutability\n - /guide/store/configuration/runtime-checks#strictstateserializability\n - /guide/store/reducers#creating-the-reducer-function\n - api/data/UpdateResponseData#id\n - api/effects/createEffect\n - api/entity/Dictionary\n - api/router-store/StoreRouterConnectingModule\n - api/store-devtools/StoreDevtools#state\n - api/store-devtools/StoreDevtoolsConfig#actionsBlocklist\n - api/store-devtools/StoreDevtoolsConfig#actionsSafelist\n - api/store/META_REDUCERS\n - api/store/USER_PROVIDED_META_REDUCERS\n - api/store/createAction\n - api/store/createReducer\n - api/store/createSelector\n - guide/migration/v8#actionsblacklist-is-renamed-to-actionsblocklist\n - guide/migration/v8#actionswhitelist-is-renamed-to-actionssafelist\n - guide/migration/v8#add-undefined-to-dictionarys-index-signature\n - guide/migration/v8#angular-cli-update\n - guide/migration/v8#breaking-changes\n - guide/migration/v8#dependencies\n - guide/migration/v8#highlighted-new-features\n - guide/migration/v8#meta_reducers-token\n - guide/migration/v8#ngrxentity\n - guide/migration/v8#ngrxrouter-store\n - guide/migration/v8#ngrxstore\n - guide/migration/v8#ngrxstore-devtools\n - guide/migration/v8#required-usage-of-forroot\n - guide/migration/v8#selectors-with-only-a-projector-function-arent-valid-anymore\n - guide/migration/v8#v8-update-guide\n - https://github.com/johnpapa/angular-ngrx-data\n - https://github.com/ngrx/platform/edit/master/projects/ngrx.io/content/guide/migration/v8.md?message=docs%3A%20describe%20your%20change...\n-->"
}