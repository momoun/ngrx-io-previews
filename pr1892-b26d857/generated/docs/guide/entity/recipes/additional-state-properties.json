{
  "id": "guide/entity/recipes/additional-state-properties",
  "title": "Additional Entity State Properties Update",
  "contents": "\n\n\n  <div class=\"github-links\">\n    <a href=\"https://github.com/ngrx/platform/edit/master/projects/ngrx.io/content/guide/entity/recipes/additional-state-properties.md?message=docs%3A%20describe%20your%20change...\" aria-label=\"Suggest Edits\" title=\"Suggest Edits\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  </div>\n\n\n<div class=\"content\">\n<h1 id=\"additional-entity-state-properties-update\">Additional Entity State Properties Update<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/entity/recipes/additional-state-properties#additional-entity-state-properties-update\"><i class=\"material-icons\">link</i></a></h1>\n<p> For beginners it is very confusing how to update the additional state properties using adapter. So we are going to see how to update the Additional Entity state properties. In the below example we are going to use the <a href=\"https://ngrx.io/guide/entity/adapter\">Entity Adapter</a> example.</p>\n<p> Usage:</p>\n<p> we are declaring the <code>selectedUserId</code> as an additional entities state property.</p>\n <code-example header=\"user.reducer.ts\">\nimport { <a href=\"api/entity/EntityState\" class=\"code-anchor\">EntityState</a>, <a href=\"api/entity/EntityAdapter\" class=\"code-anchor\">EntityAdapter</a>, <a href=\"api/entity/createEntityAdapter\" class=\"code-anchor\">createEntityAdapter</a> } from '@ngrx/entity';\n<p> export interface User {\nid: string;\nname: string;\n}</p>\n<p> export interface State extends EntityState&#x3C;User> {\n// additional entities state properties\nselectedUserId: number;\n}</p>\n<p> ...</p>\n<p> export const adapter: EntityAdapter&#x3C;User> = createEntityAdapter&#x3C;User>({\n...\n});\n</p>\n<p> Then create an action to update the <code>selectedUserId</code></p>\n <code-example header=\"user.actions.ts\">\nimport { <a href=\"api/store/createAction\" class=\"code-anchor\">createAction</a>, <a href=\"api/store/props\" class=\"code-anchor\">props</a>, <a href=\"api/store/union\" class=\"code-anchor\">union</a> } from '@ngrx/store';\nimport { <a href=\"api/entity/Update\" class=\"code-anchor\">Update</a> } from '@ngrx/entity';\n<p> import { User } from '../models/user.model';</p>\n<p> ...</p>\n<p> export const selectUser = createAction('[User/API] Select User', props&#x3C;{ id: string }>());</p>\n<p> ...</p>\n<p> const all = union({\n...\nselectUser,\n...\n});\nexport type Union = typeof all;\n</p>\n<p> Entity Adapter is only used to update the <code><a href=\"api/entity/EntityState\" class=\"code-anchor\">EntityState</a></code> properties. Other than that additional state properties should be updated same as normal state properties like below.</p>\n <code-example header=\"user.reducer.ts\">\nimport { <a href=\"api/entity/EntityState\" class=\"code-anchor\">EntityState</a>, <a href=\"api/entity/EntityAdapter\" class=\"code-anchor\">EntityAdapter</a>, <a href=\"api/entity/createEntityAdapter\" class=\"code-anchor\">createEntityAdapter</a> } from '@ngrx/entity';\nimport { User } from '../models/user.model';\nimport * as UserActions from '../actions/user.actions';\n<p> export interface State extends EntityState&#x3C;User> {\n// additional entities state properties\nselectedUserId: number | null;\n}</p>\n<p> export const adapter: EntityAdapter&#x3C;User> = createEntityAdapter&#x3C;User>();</p>\n<p> export const initialState: State = adapter.getInitialState({\n// additional entity state properties\nselectedUserId: null,\n});</p>\n<p> export function reducer(state = initialState, action: UserActions.Union): State {\nswitch (action.type) {\n...</p>\n<p>     case UserActions.selectUser.type: {\nreturn { ...state, selectedUserId: action.id};\n}</p>\n<p>     ...\n}\n}</p>\n<p> export const getSelectedUserId = (state: State) => state.selectedUserId;</p>\n </code-example>\n\n</code-example></code-example></div>\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - api/entity/EntityAdapter\n - api/entity/EntityState\n - api/entity/Update\n - api/entity/createEntityAdapter\n - api/store/createAction\n - api/store/props\n - api/store/union\n - guide/entity/recipes/additional-state-properties#additional-entity-state-properties-update\n - https://github.com/ngrx/platform/edit/master/projects/ngrx.io/content/guide/entity/recipes/additional-state-properties.md?message=docs%3A%20describe%20your%20change...\n - https://ngrx.io/guide/entity/adapter\n-->"
}